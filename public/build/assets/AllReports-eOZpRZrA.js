import{r as v,a as C,j as s,w as Ht}from"./index-OeoBNat3.js";import{C as Ne}from"./CFormLabel-DxfY1rNV.js";import{C as ke}from"./CFormInput-BMIMxTq1.js";import{C as G}from"./CFormSelect-B3syApAW.js";import{f as fe}from"./api-8_quPuaU.js";import{P as nt,c as qt,M as pe,S as Zt}from"./mantine-react-table.esm-Bh17kATt.js";import{C as A}from"./DefaultLayout-B6SAEV22.js";import{a as er}from"./index.esm-BSQayu9G.js";import{ad as ot,h as I,s as le,r as S,c as E,g as L,t as st,w as lt,ae as it,af as tr,v as z,d as rr,e as ar,u as ct,i as dt,o as nr,ag as or,E as sr,U as lr,ah as ir}from"./Table-P8BCIZiY.js";import"./cil-mobile-BLiG_LYI.js";function ie(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}let cr={};function ut(){return cr}function Te(e,t){var u,l,f,y;const r=ut(),a=(t==null?void 0:t.weekStartsOn)??((l=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((y=(f=r.locale)==null?void 0:f.options)==null?void 0:y.weekStartsOn)??0,n=ie(e),o=n.getDay(),c=(o<a?7:0)+o-a;return n.setDate(n.getDate()-c),n.setHours(0,0,0,0),n}function Re(e,t){return r=>{if(typeof r!="string"||r.trim().length===0)throw new Error(t);return`${e}-${r}`}}const dr={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function ur(){const e=v.useRef(0),t=v.useRef(null),[r,a]=v.useState(dr),n=v.useMemo(()=>typeof window<"u"?new ResizeObserver(o=>{const c=o[0];c&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{t.current&&a(c.contentRect)}))}):null,[]);return ot(()=>(t.current&&(n.observe(t.current),a(t.current.getBoundingClientRect())),()=>{n.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[t.current]),[t,r]}const ft=v.createContext({padding:0}),fr=ft.Provider,pr=()=>v.useContext(ft).padding;var gr=I((e,{padding:t,withBorder:r,inheritPadding:a})=>{const n=le({size:t,sizes:e.spacing}),o=`calc(-1 * ${n})`,c=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{cardSection:{display:"block",marginLeft:o,marginRight:o,paddingLeft:a?n:void 0,paddingRight:a?n:void 0,borderTop:r?`${S(1)} solid ${c}`:void 0,borderBottom:r?`${S(1)} solid ${c}`:void 0,"& + &":{borderTop:0},"&[data-first]":{marginTop:o,borderTop:0,borderBottom:r?`${S(1)} solid ${c}`:void 0},"&[data-last]":{marginBottom:o,borderBottom:0}}}}),vr=Object.defineProperty,q=Object.getOwnPropertySymbols,pt=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable,Ie=(e,t,r)=>t in e?vr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mr=(e,t)=>{for(var r in t||(t={}))pt.call(t,r)&&Ie(e,r,t[r]);if(q)for(var r of q(t))gt.call(t,r)&&Ie(e,r,t[r]);return e},yr=(e,t)=>{var r={};for(var a in e)pt.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&q)for(var a of q(e))t.indexOf(a)<0&&gt.call(e,a)&&(r[a]=e[a]);return r};const br={withBorder:!1,inheritPadding:!1},vt=v.forwardRef((e,t)=>{const r=E("CardSection",br,e),{className:a,withBorder:n,inheritPadding:o,unstyled:c,variant:u}=r,l=yr(r,["className","withBorder","inheritPadding","unstyled","variant"]),{classes:f,cx:y}=gr({padding:pr(),withBorder:n,inheritPadding:o},{name:"Card",unstyled:c,variant:u});return C.createElement(L,mr({className:y(f.cardSection,a),ref:t},l))});vt.displayName="@mantine/core/CardSection";const mt=st(vt);var hr=I(e=>({root:{position:"relative",overflow:"hidden",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}})),_r=Object.defineProperty,Z=Object.getOwnPropertySymbols,yt=Object.prototype.hasOwnProperty,bt=Object.prototype.propertyIsEnumerable,Ee=(e,t,r)=>t in e?_r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,wr=(e,t)=>{for(var r in t||(t={}))yt.call(t,r)&&Ee(e,r,t[r]);if(Z)for(var r of Z(t))bt.call(t,r)&&Ee(e,r,t[r]);return e},xr=(e,t)=>{var r={};for(var a in e)yt.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&Z)for(var a of Z(e))t.indexOf(a)<0&&bt.call(e,a)&&(r[a]=e[a]);return r};const $r={padding:"md"},he=v.forwardRef((e,t)=>{const r=E("Card",$r,e),{className:a,padding:n,radius:o,children:c,unstyled:u,variant:l}=r,f=xr(r,["className","padding","radius","children","unstyled","variant"]),{classes:y,cx:g}=hr(null,{name:"Card",unstyled:u,variant:l}),i=v.Children.toArray(c),b=i.map((m,d)=>typeof m=="object"&&m&&"type"in m&&m.type===mt?v.cloneElement(m,{variant:l,padding:n,"data-first":d===0||void 0,"data-last":d===i.length-1||void 0}):m);return C.createElement(fr,{value:{padding:n}},C.createElement(nt,wr({className:g(y.root,a),radius:o,p:n,ref:t},f),b))});he.Section=mt;he.displayName="@mantine/core/Card";const Me=st(he),[Sr,Or]=lt("Grid component was not found in tree");var Pr=Object.defineProperty,Le=Object.getOwnPropertySymbols,jr=Object.prototype.hasOwnProperty,Cr=Object.prototype.propertyIsEnumerable,Fe=(e,t,r)=>t in e?Pr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Dr=(e,t)=>{for(var r in t||(t={}))jr.call(t,r)&&Fe(e,r,t[r]);if(Le)for(var r of Le(t))Cr.call(t,r)&&Fe(e,r,t[r]);return e};const _e=(e,t)=>e==="content"?"auto":e==="auto"?"0rem":e?`${100/(t/e)}%`:void 0,ht=(e,t,r)=>r||e==="auto"||e==="content"?"unset":_e(e,t),_t=(e,t)=>{if(e)return e==="auto"||t?1:0},wt=(e,t)=>e===0?0:e?`${100/(t/e)}%`:void 0,xt=(e,t)=>typeof e<"u"?`calc(${le({size:e,sizes:t.spacing})} / 2)`:void 0;function Nr({sizes:e,offsets:t,orders:r,theme:a,columns:n,gutters:o,grow:c}){return it.reduce((u,l)=>(u[`@media (min-width: ${tr(a.breakpoints[l])})`]={order:r[l],flexBasis:_e(e[l],n),padding:xt(o[l],a),flexShrink:0,width:e[l]==="content"?"auto":void 0,maxWidth:ht(e[l],n,c),marginLeft:wt(t[l],n),flexGrow:_t(e[l],c)},u),{})}var kr=I((e,{gutter:t,gutterXs:r,gutterSm:a,gutterMd:n,gutterLg:o,gutterXl:c,grow:u,offset:l,offsetXs:f,offsetSm:y,offsetMd:g,offsetLg:i,offsetXl:b,columns:m,span:d,xs:p,sm:h,md:x,lg:P,xl:k,order:D,orderXs:_,orderSm:w,orderMd:j,orderLg:R,orderXl:$})=>({col:Dr({boxSizing:"border-box",flexGrow:_t(d,u),order:D,padding:xt(t,e),marginLeft:wt(l,m),flexBasis:_e(d,m),flexShrink:0,width:d==="content"?"auto":void 0,maxWidth:ht(d,m,u)},Nr({sizes:{xs:p,sm:h,md:x,lg:P,xl:k},offsets:{xs:f,sm:y,md:g,lg:i,xl:b},orders:{xs:_,sm:w,md:j,lg:R,xl:$},gutters:{xs:r,sm:a,md:n,lg:o,xl:c},theme:e,columns:m,grow:u}))})),Tr=Object.defineProperty,ee=Object.getOwnPropertySymbols,$t=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable,Ae=(e,t,r)=>t in e?Tr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Rr=(e,t)=>{for(var r in t||(t={}))$t.call(t,r)&&Ae(e,r,t[r]);if(ee)for(var r of ee(t))St.call(t,r)&&Ae(e,r,t[r]);return e},Ir=(e,t)=>{var r={};for(var a in e)$t.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&ee)for(var a of ee(e))t.indexOf(a)<0&&St.call(e,a)&&(r[a]=e[a]);return r};const Er={};function Mr(e){return e==="auto"||e==="content"?!0:typeof e=="number"&&e>0&&e%1===0}const Ot=v.forwardRef((e,t)=>{const r=E("GridCol",Er,e),{children:a,span:n,offset:o,offsetXs:c,offsetSm:u,offsetMd:l,offsetLg:f,offsetXl:y,xs:g,sm:i,md:b,lg:m,xl:d,order:p,orderXs:h,orderSm:x,orderMd:P,orderLg:k,orderXl:D,className:_,unstyled:w,variant:j}=r,R=Ir(r,["children","span","offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","xs","sm","md","lg","xl","order","orderXs","orderSm","orderMd","orderLg","orderXl","className","unstyled","variant"]),$=Or(),M=n||$.columns,{classes:W,cx:ce}=kr({gutter:$.gutter,gutterXs:$.gutterXs,gutterSm:$.gutterSm,gutterMd:$.gutterMd,gutterLg:$.gutterLg,gutterXl:$.gutterXl,offset:o,offsetXs:c,offsetSm:u,offsetMd:l,offsetLg:f,offsetXl:y,xs:g,sm:i,md:b,lg:m,xl:d,order:p,orderXs:h,orderSm:x,orderMd:P,orderLg:k,orderXl:D,grow:$.grow,columns:$.columns,span:M},{unstyled:w,name:"Grid",variant:j});return!Mr(M)||M>$.columns?null:C.createElement(L,Rr({className:ce(W.col,_),ref:t},R),a)});Ot.displayName="@mantine/core/Col";var Lr=Object.defineProperty,Ye=Object.getOwnPropertySymbols,Fr=Object.prototype.hasOwnProperty,Ar=Object.prototype.propertyIsEnumerable,Ve=(e,t,r)=>t in e?Lr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Yr=(e,t)=>{for(var r in t||(t={}))Fr.call(t,r)&&Ve(e,r,t[r]);if(Ye)for(var r of Ye(t))Ar.call(t,r)&&Ve(e,r,t[r]);return e};function Vr(e,t){return it.reduce((r,a)=>(typeof e[a]<"u"&&(r[`@media (min-width: ${t.breakpoints[a]})`]={margin:`calc(-${le({size:e[a],sizes:t.spacing})} / 2)`}),r),{})}var Wr=I((e,{justify:t,align:r,gutter:a,gutterXs:n,gutterSm:o,gutterMd:c,gutterLg:u,gutterXl:l})=>({root:Yr({margin:`calc(-${le({size:a,sizes:e.spacing})} / 2)`,display:"flex",flexWrap:"wrap",justifyContent:t,alignItems:r},Vr({xs:n,sm:o,md:c,lg:u,xl:l},e))})),Br=Object.defineProperty,te=Object.getOwnPropertySymbols,Pt=Object.prototype.hasOwnProperty,jt=Object.prototype.propertyIsEnumerable,We=(e,t,r)=>t in e?Br(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Kr=(e,t)=>{for(var r in t||(t={}))Pt.call(t,r)&&We(e,r,t[r]);if(te)for(var r of te(t))jt.call(t,r)&&We(e,r,t[r]);return e},zr=(e,t)=>{var r={};for(var a in e)Pt.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&te)for(var a of te(e))t.indexOf(a)<0&&jt.call(e,a)&&(r[a]=e[a]);return r};const Qr={gutter:"md",justify:"flex-start",align:"stretch",columns:12},Q=v.forwardRef((e,t)=>{const r=E("Grid",Qr,e),{gutter:a,gutterXs:n,gutterSm:o,gutterMd:c,gutterLg:u,gutterXl:l,children:f,grow:y,justify:g,align:i,columns:b,className:m,unstyled:d,variant:p}=r,h=zr(r,["gutter","gutterXs","gutterSm","gutterMd","gutterLg","gutterXl","children","grow","justify","align","columns","className","unstyled","variant"]),{classes:x,cx:P}=Wr({gutter:a,justify:g,align:i,gutterXs:n,gutterSm:o,gutterMd:c,gutterLg:u,gutterXl:l},{unstyled:d,name:"Grid",variant:p});return C.createElement(Sr,{value:{gutter:a,gutterXs:n,gutterSm:o,gutterMd:c,gutterLg:u,gutterXl:l,grow:y,columns:b}},C.createElement(L,Kr({className:P(x.root,m),ref:t},h),f))});Q.Col=Ot;Q.displayName="@mantine/core/Grid";var Gr=Object.defineProperty,Ur=Object.defineProperties,Xr=Object.getOwnPropertyDescriptors,Be=Object.getOwnPropertySymbols,Jr=Object.prototype.hasOwnProperty,Hr=Object.prototype.propertyIsEnumerable,Ke=(e,t,r)=>t in e?Gr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,X=(e,t)=>{for(var r in t||(t={}))Jr.call(t,r)&&Ke(e,r,t[r]);if(Be)for(var r of Be(t))Hr.call(t,r)&&Ke(e,r,t[r]);return e},qr=(e,t)=>Ur(e,Xr(t));const H=4,ze={xs:`${S(3)} ${S(6)}`,sm:`${S(5)} ${S(10)}`,md:`${S(7)} ${S(14)}`,lg:`${S(9)} ${S(16)}`,xl:`${S(12)} ${S(20)}`};var Zr=I((e,{fullWidth:t,color:r,radius:a,shouldAnimate:n,transitionDuration:o,transitionTimingFunction:c,orientation:u},{size:l})=>{const f=u==="vertical",y=e.fn.variant({variant:"filled",color:r});return{label:qr(X(X({ref:z("label")},e.fn.focusStyles()),e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",borderRadius:e.fn.radius(a),fontWeight:500,fontSize:l in e.fontSizes?e.fontSizes[l]:e.fontSizes.sm,cursor:"pointer",display:"block",textAlign:"center",padding:ze[l in ze?l:"sm"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7],transition:`color ${n?0:o}ms ${c||e.transitionTimingFunction}`,"&:hover":{color:e.colorScheme==="dark"?e.colors.dark[0]:e.black},"&[data-disabled]":{"&, &:hover":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed",pointerEvents:"none"}},"&[data-active]":{"&, &:hover":{color:r||e.colorScheme==="dark"?e.white:e.black}}}),control:{ref:z("control"),position:"relative",boxSizing:"border-box",flex:1,zIndex:2,transition:`border-left-color ${n?0:o}ms ${c||e.transitionTimingFunction}`,"&:not(:first-of-type)":{borderStyle:"solid",borderWidth:f?`${S(1)} 0 0 0`:`0 0 0 ${S(1)}`,borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}},input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{outline:"none",[`& + .${z("label")}`]:X({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),"&:focus:not(:focus-visible)":{[`& + .${z("label")}`]:X({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)}},"&:disabled + label":{"&, &:hover":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed",pointerEvents:"none"}}},root:{position:"relative",display:t||f?"flex":"inline-flex",width:f&&!t?"max-content":"auto",flexDirection:f?"column":"row",backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[1],borderRadius:e.fn.radius(a),overflow:"hidden",padding:H},controlActive:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important",[`& + .${z("control")}`]:{[f?"borderTopColor":"borderLeftColor"]:"transparent !important"},borderRadius:e.fn.radius(a),boxShadow:n?r||e.colorScheme==="dark"?"none":e.shadows.xs:void 0,backgroundColor:n?r?y.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white:void 0},indicator:{boxSizing:"border-box",borderRadius:e.fn.radius(a),position:"absolute",zIndex:1,boxShadow:r||e.colorScheme==="dark"?"none":e.shadows.xs,transition:`transform ${n?0:o}ms ${e.transitionTimingFunction}, width ${n?0:o/2}ms ${c||e.transitionTimingFunction}`,backgroundColor:r?y.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white}}}),ea=Object.defineProperty,re=Object.getOwnPropertySymbols,Ct=Object.prototype.hasOwnProperty,Dt=Object.prototype.propertyIsEnumerable,Qe=(e,t,r)=>t in e?ea(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ta=(e,t)=>{for(var r in t||(t={}))Ct.call(t,r)&&Qe(e,r,t[r]);if(re)for(var r of re(t))Dt.call(t,r)&&Qe(e,r,t[r]);return e},ra=(e,t)=>{var r={};for(var a in e)Ct.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&re)for(var a of re(e))t.indexOf(a)<0&&Dt.call(e,a)&&(r[a]=e[a]);return r};const aa={disabled:!1,size:"sm",transitionDuration:200},Nt=v.forwardRef((e,t)=>{var r,a,n,o;const c=E("SegmentedControl",aa,e),{className:u,disabled:l,data:f,name:y,value:g,onChange:i,color:b,fullWidth:m,radius:d,size:p,transitionDuration:h,transitionTimingFunction:x,classNames:P,styles:k,defaultValue:D,orientation:_,unstyled:w,variant:j,readOnly:R}=c,$=ra(c,["className","disabled","data","name","value","onChange","color","fullWidth","radius","size","transitionDuration","transitionTimingFunction","classNames","styles","defaultValue","orientation","unstyled","variant","readOnly"]),M=rr(),W=ar(),ce=M.respectReducedMotion?W:!1,B=f.map(O=>typeof O=="string"?{label:O,value:O}:O),xe=v.useRef(),[$e,Se]=v.useState(!1),[F,Kt]=ct({value:g,defaultValue:D,finalValue:Array.isArray(B)&&(o=(n=(r=B.find(O=>!O.disabled))==null?void 0:r.value)!=null?n:(a=B[0])==null?void 0:a.value)!=null?o:null,onChange:i}),{classes:Y,cx:Oe}=Zr({fullWidth:m,color:b,radius:d,shouldAnimate:ce||!$e,transitionDuration:h,transitionTimingFunction:x,orientation:_},{name:"SegmentedControl",classNames:P,styles:k,unstyled:w,variant:j,size:p}),[U,zt]=v.useState({width:0,height:0,translate:[0,0]}),de=dt(y),ue=v.useRef({}),[Pe,je]=ur();ot(()=>{xe.current?Se(!0):(xe.current=!0,Se(!1))}),v.useEffect(()=>{if(F in ue.current&&Pe.current){const O=ue.current[F],K=O.getBoundingClientRect(),Ce=O.offsetWidth/K.width,De=K.width*Ce||0,Ut=K.height*Ce||0,Xt=je.width-O.parentElement.offsetLeft+H-De,Jt=O.parentElement.offsetLeft-H;zt({width:De,height:Ut,translate:[M.dir==="rtl"?Xt:Jt,O.parentElement.offsetTop-H]})}},[F,je]);const Qt=B.map(O=>C.createElement("div",{className:Oe(Y.control,{[Y.controlActive]:F===O.value}),key:O.value},C.createElement("input",{className:Y.input,disabled:l||O.disabled,type:"radio",name:de,value:O.value,id:`${de}-${O.value}`,checked:F===O.value,onChange:()=>!R&&Kt(O.value)}),C.createElement("label",{className:Y.label,"data-active":F===O.value&&!(l||O.disabled)||void 0,"data-disabled":l||O.disabled||void 0,htmlFor:`${de}-${O.value}`,ref:K=>{ue.current[O.value]=K}},O.label))),Gt=nr(Pe,t);return B.length===0?null:C.createElement(L,ta({className:Oe(Y.root,u),ref:Gt},$),typeof F=="string"&&$e&&C.createElement(L,{component:"span",className:Y.indicator,sx:{width:U.width,height:U.height,transform:`translate(${U.translate[0]}px, ${U.translate[1]}px)`}}),Qt)});Nt.displayName="@mantine/core/SegmentedControl";const ye={context:"Tabs component was not found in the tree",value:"Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value"},[na,we]=lt(ye.context);var oa=Object.defineProperty,Ge=Object.getOwnPropertySymbols,sa=Object.prototype.hasOwnProperty,la=Object.prototype.propertyIsEnumerable,Ue=(e,t,r)=>t in e?oa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ia=(e,t)=>{for(var r in t||(t={}))sa.call(t,r)&&Ue(e,r,t[r]);if(Ge)for(var r of Ge(t))la.call(t,r)&&Ue(e,r,t[r]);return e};function ca({orientation:e,inverted:t,placement:r},a,n){const o=e==="vertical";return n==="default"?{[o?r==="left"?"borderRight":"borderLeft":t?"borderTop":"borderBottom"]:`${S(2)} solid ${a.colorScheme==="dark"?a.colors.dark[4]:a.colors.gray[3]}`}:n==="outline"?{[o?r==="left"?"borderRight":"borderLeft":t?"borderTop":"borderBottom"]:`${S(1)} solid ${a.colorScheme==="dark"?a.colors.dark[4]:a.colors.gray[3]}`}:n==="pills"?{gap:`calc(${a.spacing.sm} / 2)`}:{}}var da=I((e,t,{variant:r})=>{const a=t.orientation==="vertical";return{tabsList:ia({display:"flex",flexWrap:"wrap",flexDirection:a?"column":"row",justifyContent:or[t.position],'& [role="tab"]':{flex:t.grow?1:void 0}},ca(t,e,r))}}),ua=Object.defineProperty,fa=Object.defineProperties,pa=Object.getOwnPropertyDescriptors,ae=Object.getOwnPropertySymbols,kt=Object.prototype.hasOwnProperty,Tt=Object.prototype.propertyIsEnumerable,Xe=(e,t,r)=>t in e?ua(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ga=(e,t)=>{for(var r in t||(t={}))kt.call(t,r)&&Xe(e,r,t[r]);if(ae)for(var r of ae(t))Tt.call(t,r)&&Xe(e,r,t[r]);return e},va=(e,t)=>fa(e,pa(t)),ma=(e,t)=>{var r={};for(var a in e)kt.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&ae)for(var a of ae(e))t.indexOf(a)<0&&Tt.call(e,a)&&(r[a]=e[a]);return r};const ya={grow:!1,position:"left"},Rt=v.forwardRef((e,t)=>{const r=E("TabsList",ya,e),{children:a,className:n,grow:o,position:c}=r,u=ma(r,["children","className","grow","position"]),{orientation:l,variant:f,color:y,radius:g,inverted:i,placement:b,classNames:m,styles:d,unstyled:p}=we(),{classes:h,cx:x}=da({orientation:l,grow:o,color:y,position:c,radius:g,inverted:i,placement:b},{name:"Tabs",unstyled:p,classNames:m,styles:d,variant:f});return C.createElement(L,va(ga({},u),{className:x(h.tabsList,n),ref:t,role:"tablist","aria-orientation":l}),a)});Rt.displayName="@mantine/core/TabsList";var ba=I((e,{orientation:t})=>({panel:{flex:t==="vertical"?1:void 0}})),ha=Object.defineProperty,_a=Object.defineProperties,wa=Object.getOwnPropertyDescriptors,ne=Object.getOwnPropertySymbols,It=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable,Je=(e,t,r)=>t in e?ha(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xa=(e,t)=>{for(var r in t||(t={}))It.call(t,r)&&Je(e,r,t[r]);if(ne)for(var r of ne(t))Et.call(t,r)&&Je(e,r,t[r]);return e},$a=(e,t)=>_a(e,wa(t)),Sa=(e,t)=>{var r={};for(var a in e)It.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&ne)for(var a of ne(e))t.indexOf(a)<0&&Et.call(e,a)&&(r[a]=e[a]);return r};const Oa={},Mt=v.forwardRef((e,t)=>{const r=E("TabsPanel",Oa,e),{value:a,children:n,sx:o,className:c}=r,u=Sa(r,["value","children","sx","className"]),l=we(),{classes:f,cx:y}=ba({orientation:l.orientation,color:l.color,radius:l.radius,inverted:l.inverted,placement:l.placement},{name:"Tabs",unstyled:l.unstyled,classNames:l.classNames,styles:l.styles,variant:l.variant}),g=l.getPanelId(a),i=l.value===a,b=l.keepMounted||i?n:null;return v.useEffect(()=>(l.setMountedPanelIds(m=>[...m,g]),l.setMountedPanelIds(m=>m.filter(d=>d!==g))),[g]),C.createElement(L,$a(xa({},u),{ref:t,sx:[{display:i?void 0:"none"},...sr(o)],className:y(f.panel,c),role:"tabpanel",id:g,"aria-labelledby":l.getTabId(a)}),b)});Mt.displayName="@mantine/core/TabsPanel";var Pa=Object.defineProperty,ja=Object.defineProperties,Ca=Object.getOwnPropertyDescriptors,He=Object.getOwnPropertySymbols,Da=Object.prototype.hasOwnProperty,Na=Object.prototype.propertyIsEnumerable,qe=(e,t,r)=>t in e?Pa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,V=(e,t)=>{for(var r in t||(t={}))Da.call(t,r)&&qe(e,r,t[r]);if(He)for(var r of He(t))Na.call(t,r)&&qe(e,r,t[r]);return e},Ze=(e,t)=>ja(e,Ca(t));function ka(e,{orientation:t,color:r,radius:a,inverted:n,placement:o},c){const u=t==="vertical",l=e.fn.variant({color:r,variant:"filled"}),f=S(e.fn.radius(a)),y=t==="vertical"?o==="left"?`${f} 0 0 ${f}`:` 0 ${f} ${f} 0`:n?`0 0 ${f} ${f}`:`${f} ${f} 0 0`;return c==="default"?Ze(V({[u?o==="left"?"borderRight":"borderLeft":n?"borderTop":"borderBottom"]:`${S(2)} solid transparent`,[u?o==="left"?"marginRight":"marginLeft":n?"marginTop":"marginBottom"]:S(-2),borderRadius:y},e.fn.hover({backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]})),{"&[data-active]":V({borderColor:l.background,color:e.colorScheme==="dark"?e.white:e.black},e.fn.hover({borderColor:l.background}))}):c==="outline"?{borderRadius:y,border:`${S(1)} solid transparent`,[u?o==="left"?"borderRight":"borderLeft":n?"borderTop":"borderBottom"]:"none","&[data-active]":{borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3],"&::before":{content:'""',backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,position:"absolute",bottom:u?0:n?"unset":S(-1),top:u?0:n?S(-1):"unset",[u?"width":"height"]:S(1),right:u?o==="left"?S(-1):"unset":0,left:u?o==="left"?"unset":S(-1):0}}}:c==="pills"?Ze(V({borderRadius:e.fn.radius(a)},e.fn.hover({backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0]})),{"&[data-active]":V({backgroundColor:l.background,color:e.white},e.fn.hover({backgroundColor:l.background}))}):{}}var Ta=I((e,t,{variant:r})=>({tabLabel:{},tab:V({position:"relative",padding:`${e.spacing.xs} ${e.spacing.md}`,paddingLeft:t.withIcon?e.spacing.xs:void 0,paddingRight:t.withRightSection?e.spacing.xs:void 0,fontSize:e.fontSizes.sm,whiteSpace:"nowrap",zIndex:0,display:"flex",alignItems:"center",justifyContent:t.orientation==="horizontal"?"center":void 0,lineHeight:1,"&:disabled":V({opacity:.5,cursor:"not-allowed"},e.fn.hover({backgroundColor:"transparent"})),"&:focus":{zIndex:1}},ka(e,t,r)),tabRightSection:{display:"flex",justifyContent:"center",alignItems:"center","&:not(:only-child)":{marginLeft:S(7)}},tabIcon:{display:"flex",justifyContent:"center",alignItems:"center","&:not(:only-child)":{marginRight:S(7)}}})),Ra=Object.defineProperty,Ia=Object.defineProperties,Ea=Object.getOwnPropertyDescriptors,oe=Object.getOwnPropertySymbols,Lt=Object.prototype.hasOwnProperty,Ft=Object.prototype.propertyIsEnumerable,et=(e,t,r)=>t in e?Ra(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ma=(e,t)=>{for(var r in t||(t={}))Lt.call(t,r)&&et(e,r,t[r]);if(oe)for(var r of oe(t))Ft.call(t,r)&&et(e,r,t[r]);return e},La=(e,t)=>Ia(e,Ea(t)),Fa=(e,t)=>{var r={};for(var a in e)Lt.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&oe)for(var a of oe(e))t.indexOf(a)<0&&Ft.call(e,a)&&(r[a]=e[a]);return r};const Aa={},At=v.forwardRef((e,t)=>{const r=E("TabsTab",Aa,e),{value:a,children:n,onKeyDown:o,onClick:c,className:u,icon:l,rightSection:f,color:y}=r,g=Fa(r,["value","children","onKeyDown","onClick","className","icon","rightSection","color"]),i=we(),b=!!l,m=!!f,{theme:d,classes:p,cx:h}=Ta({withIcon:b||m&&!n,withRightSection:m||b&&!n,orientation:i.orientation,color:y||i.color,radius:i.radius,inverted:i.inverted,placement:i.placement},{name:"Tabs",unstyled:i.unstyled,classNames:i.classNames,styles:i.styles,variant:i.variant}),x=a===i.value,P=i.getPanelId(a),k=i.mountedPanelIds.includes(a)?P:void 0,D=_=>{i.onTabChange(i.allowTabDeactivation&&a===i.value?null:a),c==null||c(_)};return C.createElement(lr,La(Ma({},g),{unstyled:i.unstyled,className:h(p.tab,u),"data-active":x||void 0,ref:t,type:"button",role:"tab",id:i.getTabId(a),"aria-selected":x,tabIndex:x||i.value===null?0:-1,"aria-controls":k,onClick:D,onKeyDown:qt({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:i.activateTabWithKeyboard,loop:i.loop,dir:d.dir,orientation:i.orientation,onKeyDown:o})}),l&&C.createElement("span",{className:p.tabIcon},l),n&&C.createElement("span",{className:p.tabLabel},n),f&&C.createElement("span",{className:p.tabRightSection},f))});At.displayName="@mantine/core/Tab";function Yt({defaultValue:e,value:t,onTabChange:r,orientation:a,children:n,loop:o,id:c,activateTabWithKeyboard:u,allowTabDeactivation:l,variant:f,color:y,radius:g,inverted:i,placement:b,keepMounted:m=!0,classNames:d,styles:p,unstyled:h}){const x=dt(c),[P,k]=v.useState([]),[D,_]=ct({value:t,defaultValue:e,finalValue:null,onChange:r});return C.createElement(na,{value:{placement:b,value:D,orientation:a,id:x,loop:o,activateTabWithKeyboard:u,getTabId:Re(`${x}-tab`,ye.value),getPanelId:Re(`${x}-panel`,ye.value),onTabChange:_,setMountedPanelIds:k,mountedPanelIds:P,allowTabDeactivation:l,variant:f,color:y,radius:g,inverted:i,keepMounted:m,classNames:d,styles:p,unstyled:h}},n)}Yt.displayName="@mantine/core/TabsProvider";var Ya=I((e,{orientation:t,placement:r})=>({root:{display:t==="vertical"?"flex":void 0,flexDirection:r==="right"?"row-reverse":"row"}})),Va=Object.defineProperty,Wa=Object.defineProperties,Ba=Object.getOwnPropertyDescriptors,se=Object.getOwnPropertySymbols,Vt=Object.prototype.hasOwnProperty,Wt=Object.prototype.propertyIsEnumerable,tt=(e,t,r)=>t in e?Va(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ka=(e,t)=>{for(var r in t||(t={}))Vt.call(t,r)&&tt(e,r,t[r]);if(se)for(var r of se(t))Wt.call(t,r)&&tt(e,r,t[r]);return e},za=(e,t)=>Wa(e,Ba(t)),Qa=(e,t)=>{var r={};for(var a in e)Vt.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&se)for(var a of se(e))t.indexOf(a)<0&&Wt.call(e,a)&&(r[a]=e[a]);return r};const Ga={orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},T=v.forwardRef((e,t)=>{const r=E("Tabs",Ga,e),{defaultValue:a,value:n,orientation:o,loop:c,activateTabWithKeyboard:u,allowTabDeactivation:l,children:f,id:y,onTabChange:g,variant:i,color:b,className:m,unstyled:d,classNames:p,styles:h,radius:x,inverted:P,keepMounted:k,placement:D}=r,_=Qa(r,["defaultValue","value","orientation","loop","activateTabWithKeyboard","allowTabDeactivation","children","id","onTabChange","variant","color","className","unstyled","classNames","styles","radius","inverted","keepMounted","placement"]),{classes:w,cx:j}=Ya({orientation:o,color:b,radius:x,inverted:P,placement:D},{unstyled:d,name:"Tabs",classNames:p,styles:h,variant:i});return C.createElement(Yt,{activateTabWithKeyboard:u,defaultValue:a,orientation:o,onTabChange:g,value:n,id:y,loop:c,allowTabDeactivation:l,color:b,variant:i,radius:x,inverted:P,keepMounted:k,placement:D,classNames:p,styles:h,unstyled:d},C.createElement(L,za(Ka({},_),{className:j(w.root,m),id:y,ref:t}),f))});T.List=Rt;T.Tab=At;T.Panel=Mt;T.displayName="@mantine/core/Tabs";var N=[];for(var ge=0;ge<256;++ge)N.push((ge+256).toString(16).slice(1));function Ua(e,t=0){return(N[e[t+0]]+N[e[t+1]]+N[e[t+2]]+N[e[t+3]]+"-"+N[e[t+4]]+N[e[t+5]]+"-"+N[e[t+6]]+N[e[t+7]]+"-"+N[e[t+8]]+N[e[t+9]]+"-"+N[e[t+10]]+N[e[t+11]]+N[e[t+12]]+N[e[t+13]]+N[e[t+14]]+N[e[t+15]]).toLowerCase()}var J,Xa=new Uint8Array(16);function Ja(){if(!J&&(J=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!J))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return J(Xa)}var Ha=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const rt={randomUUID:Ha};function ve(e,t,r){if(rt.randomUUID&&!t&&!e)return rt.randomUUID();e=e||{};var a=e.random||(e.rng||Ja)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,Ua(a)}function be(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Bt(e,t){const r=ie(e);if(isNaN(t))return be(e,NaN);if(!t)return r;const a=r.getDate(),n=be(e,r.getTime());n.setMonth(r.getMonth()+t+1,0);const o=n.getDate();return a>=o?n:(r.setFullYear(n.getFullYear(),n.getMonth(),a),r)}function at(e,t){var u,l,f,y;const r=ut(),a=(t==null?void 0:t.weekStartsOn)??((l=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((y=(f=r.locale)==null?void 0:f.options)==null?void 0:y.weekStartsOn)??0,n=ie(e),o=n.getDay(),c=(o<a?-7:0)+6-(o-a);return n.setDate(n.getDate()+c),n.setHours(23,59,59,999),n}function me(e){const t=ie(e),r=t.getFullYear(),a=t.getMonth(),n=be(e,0);return n.setFullYear(r,a+1,0),n.setHours(0,0,0,0),n.getDate()}function qa(e,t){return Bt(e,-t)}const Za=s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.05806 3.30806C7.30214 3.06398 7.69786 3.06398 7.94194 3.30806L14.1919 9.55806C14.436 9.80214 14.436 10.1979 14.1919 10.4419L7.94194 16.6919C7.69786 16.936 7.30214 16.936 7.05806 16.6919C6.81398 16.4479 6.81398 16.0521 7.05806 15.8081L12.8661 10L7.05806 4.19194C6.81398 3.94786 6.81398 3.55214 7.05806 3.30806Z"})}),en=s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.9419 3.30806C13.186 3.55214 13.186 3.94786 12.9419 4.19194L7.13388 10L12.9419 15.8081C13.186 16.0521 13.186 16.4479 12.9419 16.6919C12.6979 16.936 12.3021 16.936 12.0581 16.6919L5.80806 10.4419C5.56398 10.1979 5.56398 9.80214 5.80806 9.55806L12.0581 3.30806C12.3021 3.06398 12.6979 3.06398 12.9419 3.30806Z"})}),tn=({onChange:e})=>{const[t,r]=v.useState(!1),[a,n]=v.useState(new Date),[o,c]=v.useState({firstDay:Te(new Date,{weekStartsOn:1}),lastDay:at(new Date,{weekStartsOn:1})});v.useEffect(()=>{e&&e(o)},[o]);const u=()=>new Date(new Date().getFullYear(),1,29).getDate()===29,l=m=>{let d=new Date(m),p=d.getFullYear(),h=String(d.getMonth()+1).padStart(2,"0");return`${String(d.getDate()).padStart(2,"0")}.${h}.${p}`},f=m=>{let d;m.target.id.includes("prev")?(d=new Date(a.setDate(1)),n(new Date(a.setDate(1)))):m.target.id.includes("next")?(d=new Date(a.setDate(me(a))),n(new Date(a.setDate(me(a))))):(d=new Date(a.setDate(m.target.id)),n(new Date(a.setDate(m.target.id))));const p=Te(d,{weekStartsOn:1}),h=at(d,{weekStartsOn:1});c({firstDay:p,lastDay:h})},y=["Jan.","Feb.","Mar.","Apr.","May","Jun","July","Aug.","Sep.","Oct.","Nov.","Dec."],g={1:31,2:u()?29:28,3:31,4:30,5:31,6:30,7:31,8:31,9:30,10:31,11:30,12:31},i=()=>{let m=a.getMonth()+1,d=[];for(let _=1;_<=g[m];_++){let w=new Date(a).setDate(_),j="single-number ";new Date(o.firstDay).getTime()<=new Date(w).getTime()&&new Date(w).getTime()<=new Date(o.lastDay).getTime()&&(j=j+"selected-week"),d.push(s.jsx("div",{id:_,className:j,onClick:f,children:_},ve()))}const p=new Date(a).setDate(1);let h=new Date(p).getDay();h<1&&(h=7);let x=[],P=new Date(a).getMonth();P===0&&(P=12);for(let _=h;_>1;_--){let w=new Date(a).setMonth(new Date(a).getMonth()-1),j=new Date(w).setDate(g[P]-_+2),R="single-number other-month",$=new Date(j).getTime(),M=new Date(o.firstDay).getTime(),W=new Date(o.lastDay).getTime();$>=M&&$<=W&&(R="single-number selected-week"),x.push(s.jsx("div",{onClick:f,id:"prev-"+_,className:R,children:g[P]-_+2},ve()))}let k=[],D=35;[...x,...d].length>35&&(D=42);for(let _=1;_<=D-[...x,...d].length;_++){let w="single-number other-month";const j=o.lastDay.getTime(),R=new Date(new Date(a).setDate(me(a)));R.getTime()<=j&&o.firstDay.getMonth()===R.getMonth()&&(w="single-number selected-week"),k.push(s.jsx("div",{onClick:f,id:"next-"+_,className:w,children:_},ve()))}return[...x,...d,...k]},b=m=>{let d=new Date(a);m?d=Bt(d,1):d=qa(d,1),n(new Date(d))};return s.jsxs("div",{className:"week-picker-display",onBlur:()=>r(!1),onClick:()=>r(!0),tabIndex:0,children:[s.jsxs("h6",{children:[l(o.firstDay),"   to   ",l(o.lastDay)]}),t&&s.jsxs("div",{className:"week-picker-options",children:[s.jsxs("div",{className:"title-week",children:[s.jsx("div",{onClick:()=>b(!1),className:"arrow-container",children:en}),`${y[a.getMonth()]} ${a.getFullYear()}.`,s.jsx("div",{onClick:()=>b(!0),className:"arrow-container",children:Za})]}),s.jsxs("div",{className:"numbers-container",children:[s.jsx("div",{className:"single-number day",children:"Mon"}),s.jsx("div",{className:"single-number day",children:"Tue"}),s.jsx("div",{className:"single-number day",children:"Wed"}),s.jsx("div",{className:"single-number day",children:"Thu"}),s.jsx("div",{className:"single-number day",children:"Fri"}),s.jsx("div",{className:"single-number day",children:"Sat"}),s.jsx("div",{className:"single-number day",children:"Sun"})]}),s.jsx("div",{className:"numbers-container",children:i()})]})]})};function rn({setStateCustom:e}){const t=v.useRef(),r=v.useRef(),a=()=>{const n=t.current.value,o=r.current.value;n&&o&&e({start_date:n,end_date:o})};return s.jsxs("div",{className:"row mt-1",children:[s.jsx("div",{className:"col-sm-6 mb-3",children:s.jsxs("div",{className:"mb-1",children:[s.jsx(Ne,{htmlFor:"start_date",children:"Start Date"}),s.jsx(ke,{type:"date",ref:t,id:"start_date",name:"start_date",placeholder:"Select Start Date",onChange:a,required:!0,feedbackInvalid:"Please select a date."})]})}),s.jsx("div",{className:"col-sm-6 mb-3",children:s.jsxs("div",{className:"mb-1",children:[s.jsx(Ne,{htmlFor:"end_date",children:"End Date"}),s.jsx(ke,{type:"date",id:"end_date",ref:r,name:"end_date",onChange:a,required:!0,feedbackInvalid:"Please select a date."})]})})]})}function an({setStateMonth:e}){const t=d=>d%4===0&&d%100!==0||d%400===0,r=(d,p)=>p===2?t(d)?29:28:[4,6,9,11].includes(p)?30:31,a=new Date().getFullYear(),n=(new Date().getMonth()+1).toString().padStart(2,"0"),[o,c]=v.useState(a.toString()),[u,l]=v.useState(n),f=2023,y=2030,g=()=>{const d=[];for(let p=f;p<=y;p++)d.push(s.jsx("option",{value:p.toString(),children:p},p));return d},i=()=>[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}].map(p=>s.jsx("option",{value:p.value,children:p.label},p.value)),b=d=>{const p=d.target.value;c(p);const h=r(parseInt(p),parseInt(u));e({start_date:`${p}-${u}-01`,end_date:`${p}-${u}-${h}`})},m=d=>{const p=d.target.value;l(p);const h=r(parseInt(o),parseInt(p));e({start_date:`${o}-${p}-01`,end_date:`${o}-${p}-${h}`})};return v.useEffect(()=>{const d=o||a,p=u||n,h=r(parseInt(d),parseInt(p));e({start_date:`${d}-${p}-01`,end_date:`${d}-${p}-${h}`})},[o,u]),s.jsxs("div",{className:"d-flex mb-3",children:[s.jsx("div",{className:"flex-fill mx-1",children:s.jsx(G,{className:"pl-3","aria-label":"Select Year",value:o,onChange:b,children:g()})}),s.jsx("div",{className:"flex-fill mx-1",children:s.jsx(G,{className:"pl-3","aria-label":"Select Month",value:u,onChange:m,children:i()})})]})}function nn({setStateQuarter:e}){const t=i=>i>=4&&i<=6?"1":i>=7&&i<=9?"2":i>=10&&i<=12?"3":"4",r=(i,b)=>{switch(b){case"1":return`${i}-04-01`;case"2":return`${i}-07-01`;case"3":return`${i}-10-01`;case"4":return`${i+1}-01-01`;default:return`${i}-04-01`}},a=(i,b)=>{switch(b){case"1":return`${i}-06-30`;case"2":return`${i}-09-30`;case"3":return`${i}-12-31`;case"4":return`${i+1}-03-31`;default:return`${i+1}-03-31`}},n=new Date().getFullYear(),o=new Date().getMonth()+1,[c,u]=v.useState(n.toString()),[l,f]=v.useState(t(o));v.useEffect(()=>{const i=parseInt(c,10),b=r(i,l),m=a(i,l);e({start_date:b,end_date:m})},[c,l,e]);const y=i=>{u(i.target.value)},g=i=>{f(i.target.value)};return s.jsxs("div",{className:"d-flex",children:[s.jsx("div",{className:"flex-fill mx-1 col-sm-2",children:s.jsx(G,{className:"pl-3 w-100","aria-label":"Select Financial Year",value:c,onChange:y,children:Array.from({length:7},(i,b)=>s.jsx("option",{value:2023+b,children:`${2023+b}-${(2023+b+1).toString().slice(-2)}`},2023+b))})}),s.jsx("div",{className:"flex-fill mx-1 col-sm-4",children:s.jsx(G,{className:"pl-3 w-100","aria-label":"Select Quarter",value:l,onChange:g,children:[{value:"1",label:"Q1 (Apr - Jun)"},{value:"2",label:"Q2 (Jul - Sep)"},{value:"3",label:"Q3 (Oct - Dec)"},{value:"4",label:"Q4 (Jan - Mar)"}].map(i=>s.jsx("option",{value:i.value,children:i.label},i.value))})})]})}function on({setStateYear:e}){const t=new Date().getFullYear(),[r,a]=v.useState(t.toString());return v.useEffect(()=>{const n=parseInt(r,10);e({start_date:`${n}-04-01`,end_date:`${n+1}-03-31`})},[r,e]),s.jsx("div",{className:"mt-2 col-sm-2 d-flex justify-content-center",children:s.jsx("div",{className:"flex-fill mx-1",children:s.jsx(G,{className:"pl-3 w-100","aria-label":"Select Financial Year",value:r,onChange:n=>a(n.target.value),children:Array.from({length:7},(n,o)=>{const c=2023+o;return s.jsx("option",{value:c.toString(),children:`${c}-${(c+1).toString().slice(-2)}`},c)})})})})}function sn({setStateWeek:e}){const[t,r]=v.useState({firstDay:new Date,lastDay:new Date}),a=o=>{let c=new Date(o),u=c.getFullYear(),l=String(c.getMonth()+1).padStart(2,"0"),f=String(c.getDate()).padStart(2,"0");return`${u}-${l}-${f}`},n=o=>{r(o),e({start_date:a(o.firstDay),end_date:a(o.lastDay)})};return s.jsx("div",{className:"App ",children:s.jsx(tn,{onChange:n})})}function ln({selectedOption:e,salesData:t,expenseData:r,pnlData:a}){var l,f,y;v.useEffect(()=>{console.log("Sales Data:",t),console.log("Expense Data:",r),console.log("P&L Data:",a)},[t,r,a]);const n=(g,i)=>g==null?void 0:g.reduce((b,m)=>b+parseFloat(m[i]||0),0).toFixed(2),o=[{accessorKey:"invoiceDate",header:"Invoice Date"},{accessorKey:"totalAmount",header:"Total Amount",Cell:({cell:g})=>s.jsxs(A,{color:"primary",children:["₹",parseFloat(g.getValue()||0).toFixed(2)]})},{accessorKey:"paidAmount",header:"Paid Amount",Cell:({cell:g})=>s.jsxs(A,{color:"success",children:["₹",parseFloat(g.getValue()||0).toFixed(2)]})},{accessorKey:"balanceAmount",header:"Balance Amount",Cell:({cell:g})=>s.jsxs(A,{color:"warning",children:["₹",parseFloat(g.getValue()||0).toFixed(2)]})}],c=[{accessorKey:"expense_date",header:"Date"},{accessorKey:"name",header:"Details"},{accessorKey:"qty",header:"Quantity"},{accessorKey:"price",header:"Price Per Unit"},{accessorKey:"total_price",header:"Total Cost",Cell:({cell:g})=>s.jsxs(A,{color:"danger",children:["₹",parseFloat(g.getValue()||0).toFixed(2)]})}],u=[{accessorKey:"date",header:"Date"},{accessorKey:"totalSales",header:"Total Sales",Cell:({cell:g})=>s.jsxs(A,{color:"primary",children:["₹",parseFloat(g.getValue()||0).toFixed(2)]})},{accessorKey:"totalExpenses",header:"Total Expenses",Cell:({cell:g})=>s.jsxs(A,{color:"danger",children:["₹",parseFloat(g.getValue()||0).toFixed(2)]})},{accessorKey:"profitOrLoss",header:"Profit/Loss",Cell:({row:g})=>{const i=parseFloat(g.original.totalSales||0)-parseFloat(g.original.totalExpenses||0);return s.jsxs(A,{color:i>=0?"success":"danger",children:["₹",i.toFixed(2)]})}}];return s.jsxs("div",{children:[e==="1"&&s.jsx(pe,{columns:o,data:(l=t==null?void 0:t.data)!=null&&l.length?[...t.data,{invoiceDate:"Total",totalAmount:n(t.data,"totalAmount"),paidAmount:n(t.data,"paidAmount"),balanceAmount:n(t.data,"balanceAmount")}]:[],emptyContentMessage:"No sales data available."}),e==="2"&&s.jsx(pe,{columns:c,data:(f=r==null?void 0:r.data)!=null&&f.length?[...r.data,{expense_date:"Total",total_price:n(r.data,"total_price")}]:[],emptyContentMessage:"No expense data available."}),e==="3"&&s.jsx(pe,{columns:u,data:(y=a==null?void 0:a.data)!=null&&y.length?[...a.data,{date:"Total",totalSales:n(a.data,"totalSales"),totalExpenses:n(a.data,"totalExpenses")}]:[],emptyContentMessage:"No profit/loss data available."})]})}function cn({fetchReportData:e}){return s.jsx("div",{children:s.jsx(er,{color:"success",onClick:e,children:"Fetch Report"})})}function _n(){const[e,t]=v.useState("3"),[r,a]=v.useState("Year"),{showToast:n}=Ht(),[o,c]=v.useState({start_date:"",end_date:""}),[u,l]=v.useState({year:"",month:""}),[f,y]=v.useState({year:"",quarter:""}),[g,i]=v.useState({year:""}),[b,m]=v.useState({start_date:"",end_date:""}),d=[{label:"Sales",value:"1"},{label:"Expense",value:"2"},{label:"Profit & Loss",value:"3"}],[p,h]=v.useState({data:[]}),[x,P]=v.useState({data:[]}),[k,D]=v.useState({data:[]}),_=async()=>{try{let w={};switch(r){case"Custom":w=o;break;case"Month":w=u;break;case"Quarter":w=f;break;case"Year":w=g;break;case"Week":w=b;break;default:break}if((!w.start_date||!w.end_date)&&r!=="Year"&&r!=="Month"&&r!=="Quarter"){n("warning","Please select valid dates before fetching data.");return}const j=JSON.parse(localStorage.getItem("userData")),R=j?j==null?void 0:j.user.company_id:null;if(e==="1"){const $=await fe(`/api/reportSales?startDate=${w.start_date}&endDate=${w.end_date}&company_id=${R}`);h({data:Array.isArray($==null?void 0:$.data)?$.data:[]})}if(e==="2"){const $=await fe(`/api/expense?startDate=${w.start_date}&endDate=${w.end_date}&company_id=${R}`);P({data:Array.isArray($)?$:[]})}if(e==="3"){const $=await fe(`/api/profit-loss?startDate=${w.start_date}&endDate=${w.end_date}&company_id=${R}`);D({data:Array.isArray($)?$:[]})}}catch(w){n("danger","Error occurred: "+w.message)}};return v.useEffect(()=>{_()},[r]),s.jsx(ir,{withGlobalStyles:!0,withNormalizeCSS:!0,theme:{components:{DatePicker:{styles:{dropdown:{zIndex:1e3}}}}},children:s.jsxs(Zt,{spacing:"md",p:"lg",children:[s.jsx(Me,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,style:{overflow:"visible"},children:s.jsxs(T,{value:r,onTabChange:a,children:[s.jsxs(T.List,{grow:!0,children:[s.jsx(T.Tab,{value:"Year",children:"Year"}),s.jsx(T.Tab,{value:"Quarter",children:"Quarter"}),s.jsx(T.Tab,{value:"Month",children:"Month"}),s.jsx(T.Tab,{value:"Week",children:"Week"}),s.jsx(T.Tab,{value:"Custom",children:"Custom"})]}),s.jsx(T.Panel,{value:"Year",children:s.jsx(on,{setStateYear:i,withinPortal:!0})}),s.jsx(T.Panel,{value:"Quarter",children:s.jsx(nn,{setStateQuarter:y,withinPortal:!0})}),s.jsx(T.Panel,{value:"Month",children:s.jsx(an,{setStateMonth:l,withinPortal:!0})}),s.jsx(T.Panel,{value:"Week",children:s.jsx(sn,{setStateWeek:m,withinPortal:!0})}),s.jsx(T.Panel,{value:"Custom",children:s.jsx(rn,{setStateCustom:c,withinPortal:!0})})]})}),s.jsx(Me,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:s.jsxs(Q,{gutter:"md",align:"center",children:[s.jsx(Q.Col,{span:12,md:6,style:{display:"flex",justifyContent:"center"},children:s.jsx(Nt,{data:d,value:e,onChange:t,fullWidth:!0})}),s.jsx(Q.Col,{span:12,md:6,style:{textAlign:"center"},children:s.jsx(cn,{fetchReportData:_})})]})}),s.jsx(nt,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:s.jsx(ln,{selectedOption:e,salesData:p,expenseData:x,pnlData:k})})]})})}export{_n as default};
