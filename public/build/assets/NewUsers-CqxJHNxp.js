import{r as s,m as q,w as D,j as e}from"./index-CoZNXrT3.js";import{b as F,c as t,a as H}from"./index.esm-DG3saitl.js";import{a as Z,f as B,c as G,b as M,r as J}from"./api-8_quPuaU.js";import{C as K}from"./CRow-C1kAJa4E.js";import{C as O}from"./CCol-6gv0qfQb.js";import{C as Q,a as W}from"./CCardBody-KiBmAR96.js";import{C as X}from"./CCardHeader-CzKoGM0V.js";import{C as Y}from"./CForm-CWuSMnRv.js";import{C as l,a as c}from"./CInputGroupText-DgWzO0dQ.js";import{C as P}from"./CFormSelect-CVgASmge.js";import{C as i}from"./CFormInput-D071rTfS.js";import{c as $}from"./cil-mobile-BFL8AfvV.js";import"./CFormLabel-DOuP-TYD.js";var e0=["32 32","<path d='M0.7 19.465c0.115-0.21 0.26-0.245 0.485-0.125 0.52 0.28 1.030 0.57 1.56 0.835 2.029 1.012 4.166 1.788 6.37 2.315 1.042 0.251 2.097 0.448 3.16 0.59 1.574 0.212 3.162 0.298 4.75 0.26 0.87-0.020 1.74-0.090 2.605-0.19 2.808-0.327 5.557-1.048 8.165-2.14 0.145-0.060 0.295-0.1 0.455-0.060 0.335 0.090 0.45 0.45 0.205 0.695-0.149 0.137-0.31 0.261-0.48 0.37-1.535 1.055-3.21 1.82-4.98 2.395-1.226 0.395-2.481 0.689-3.755 0.88-0.881 0.135-1.769 0.215-2.66 0.24-0.042 0.003-0.084 0.007-0.125 0.015h-1.055c-0.041-0.007-0.083-0.012-0.125-0.015-0.18-0.010-0.36-0.015-0.535-0.020-0.845-0.038-1.686-0.127-2.52-0.265-1.369-0.223-2.715-0.573-4.020-1.045-2.684-0.968-5.156-2.445-7.28-4.35-0.090-0.080-0.15-0.19-0.22-0.285zM8.6 6.455l-0.215 0.030c-0.688 0.085-1.342 0.345-1.9 0.755-0.12 0.085-0.23 0.175-0.355 0.27-0.011-0.022-0.017-0.046-0.020-0.070-0.020-0.135-0.040-0.275-0.065-0.41-0.035-0.23-0.15-0.33-0.38-0.33h-0.575c-0.345 0-0.41 0.065-0.41 0.41v10.465c0 0.050 0 0.1 0.005 0.15 0.010 0.15 0.1 0.245 0.245 0.25 0.35 0.005 0.705 0.005 1.055 0 0.145 0 0.235-0.1 0.25-0.25 0.005-0.050 0.005-0.1 0.005-0.15v-3.62c0.055 0.045 0.085 0.070 0.11 0.095 0.895 0.745 1.925 0.99 3.050 0.77 1.020-0.2 1.73-0.825 2.19-1.745 0.35-0.695 0.495-1.435 0.515-2.205 0.025-0.855-0.060-1.695-0.405-2.49-0.425-0.98-1.13-1.625-2.195-1.845-0.16-0.035-0.325-0.050-0.49-0.075-0.14-0.005-0.275-0.005-0.415-0.005zM6.23 8.55c-0.006-0.067 0.027-0.131 0.085-0.165 0.685-0.475 1.44-0.725 2.28-0.66 0.745 0.055 1.355 0.42 1.675 1.295 0.195 0.535 0.245 1.090 0.245 1.65 0 0.52-0.040 1.030-0.2 1.53-0.34 1.065-1.12 1.47-2.13 1.425-0.7-0.030-1.31-0.3-1.87-0.695-0.057-0.035-0.090-0.098-0.085-0.165 0.005-0.705 0-1.405 0-2.11s0.005-1.4 0-2.105zM16.515 6.455c-0.050 0.005-0.1 0.015-0.145 0.020-0.487 0.021-0.971 0.089-1.445 0.205-0.305 0.080-0.6 0.19-0.895 0.29-0.18 0.060-0.27 0.19-0.265 0.385 0.005 0.165-0.005 0.33 0 0.495 0.005 0.24 0.105 0.305 0.34 0.245 0.39-0.1 0.78-0.21 1.175-0.285 0.615-0.115 1.235-0.165 1.86-0.070 0.325 0.050 0.63 0.145 0.84 0.42 0.185 0.24 0.255 0.525 0.265 0.82 0.015 0.415 0.010 0.83 0.015 1.245-0.001 0.024-0.005 0.047-0.010 0.070-0.025-0.005-0.045 0-0.065-0.005-0.525-0.13-1.060-0.212-1.6-0.245-0.565-0.030-1.125 0.005-1.665 0.195-0.645 0.225-1.165 0.615-1.47 1.245-0.235 0.49-0.27 1.010-0.195 1.535 0.1 0.7 0.45 1.24 1.070 1.585 0.595 0.33 1.24 0.37 1.895 0.27 0.755-0.115 1.425-0.435 2.015-0.92 0.024-0.022 0.051-0.040 0.080-0.055 0.030 0.19 0.055 0.37 0.090 0.55 0.030 0.155 0.125 0.255 0.27 0.26 0.27 0.005 0.545 0.005 0.815 0 0.13-0.001 0.236-0.105 0.24-0.235 0.004-0.046 0.006-0.093 0.005-0.14v-5.3c0.003-0.216-0.012-0.431-0.045-0.645-0.095-0.645-0.37-1.175-0.95-1.52-0.335-0.2-0.705-0.3-1.090-0.355-0.18-0.025-0.36-0.040-0.54-0.065-0.195 0.005-0.395 0.005-0.595 0.005zM18.265 12.84c0.004 0.060-0.025 0.117-0.075 0.15-0.56 0.405-1.175 0.675-1.87 0.745-0.285 0.030-0.57 0.020-0.84-0.090-0.301-0.11-0.531-0.357-0.62-0.665-0.099-0.316-0.101-0.653-0.005-0.97 0.125-0.415 0.42-0.65 0.82-0.78 0.402-0.121 0.823-0.159 1.24-0.11 0.42 0.035 0.83 0.115 1.25 0.17 0.080 0.010 0.105 0.050 0.105 0.13-0.005 0.24 0 0.475 0 0.715s-0.010 0.47-0.005 0.705zM31.26 19.31c-0.050-0.25-0.24-0.345-0.455-0.415-0.341-0.107-0.694-0.173-1.050-0.195-0.655-0.056-1.314-0.024-1.96 0.095-0.715 0.135-1.395 0.365-2 0.78-0.072 0.046-0.135 0.106-0.185 0.175-0.035 0.060-0.044 0.133-0.025 0.2 0.020 0.075 0.105 0.095 0.18 0.090 0.037 0.001 0.073-0.001 0.11-0.005 0.39-0.040 0.775-0.085 1.165-0.125 0.57-0.055 1.145-0.090 1.715-0.045 0.244 0.020 0.485 0.065 0.72 0.135 0.255 0.070 0.37 0.26 0.38 0.52 0.020 0.4-0.070 0.785-0.175 1.165-0.205 0.77-0.5 1.515-0.79 2.255-0.021 0.048-0.038 0.099-0.050 0.15-0.025 0.145 0.060 0.24 0.205 0.205 0.090-0.020 0.172-0.063 0.24-0.125 0.226-0.21 0.438-0.433 0.635-0.67 0.64-0.82 1.015-1.765 1.235-2.78 0.040-0.18 0.070-0.365 0.105-0.545zM24.655 13.15c-0.645-1.785-1.29-3.572-1.935-5.36-0.1-0.285-0.21-0.565-0.315-0.845-0.055-0.145-0.16-0.24-0.32-0.24-0.38-0.005-0.76-0.010-1.145-0.005-0.125 0-0.185 0.1-0.16 0.225 0.024 0.104 0.056 0.206 0.095 0.305 0.98 2.425 1.965 4.85 2.955 7.275 0.085 0.205 0.105 0.38 0.010 0.59-0.165 0.365-0.295 0.75-0.465 1.115-0.15 0.325-0.4 0.57-0.76 0.665-0.251 0.066-0.512 0.084-0.77 0.055-0.125-0.010-0.25-0.040-0.375-0.050-0.17-0.010-0.255 0.065-0.26 0.24-0.005 0.167-0.005 0.332 0 0.495 0.005 0.275 0.1 0.4 0.37 0.445 0.279 0.055 0.561 0.089 0.845 0.1 0.855 0.020 1.535-0.325 1.975-1.070 0.177-0.294 0.331-0.602 0.46-0.92 1.185-2.99 2.362-5.983 3.53-8.98 0.037-0.088 0.063-0.181 0.080-0.275 0.020-0.14-0.045-0.22-0.185-0.22-0.33-0.005-0.665 0-0.995 0-0.173-0.012-0.332 0.095-0.385 0.26-0.025 0.070-0.055 0.135-0.080 0.205l-1.74 5c-0.125 0.36-0.255 0.725-0.385 1.11-0.020-0.055-0.030-0.085-0.045-0.12z'/>"],a0=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M462.541,316.3l-64.344-42.1,24.774-45.418A79.124,79.124,0,0,0,432.093,192V120A103.941,103.941,0,0,0,257.484,43.523L279.232,67a71.989,71.989,0,0,1,120.861,53v72a46.809,46.809,0,0,1-5.215,21.452L355.962,284.8l89.058,58.274a42.16,42.16,0,0,1,19.073,35.421V432h-72v32h104V378.494A74.061,74.061,0,0,0,462.541,316.3Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M318.541,348.3l-64.343-42.1,24.773-45.418A79.124,79.124,0,0,0,288.093,224V152A104.212,104.212,0,0,0,184.04,47.866C126.723,47.866,80.093,94.581,80.093,152v72a78,78,0,0,0,9.015,36.775l24.908,45.664L50.047,348.3A74.022,74.022,0,0,0,16.5,410.4L16,496H352.093V410.494A74.061,74.061,0,0,0,318.541,348.3ZM320.093,464H48.186l.31-53.506a42.158,42.158,0,0,1,19.073-35.421l88.682-58.029L117.2,245.452A46.838,46.838,0,0,1,112.093,224V152a72,72,0,1,1,144,0v72a46.809,46.809,0,0,1-5.215,21.452L211.962,316.8l89.058,58.274a42.16,42.16,0,0,1,19.073,35.421Z' class='ci-primary'/>"];const v0=()=>{const[L,U]=s.useState(!1),[k,f]=s.useState([]);q();const v=s.useRef(),h=s.useRef(),x=s.useRef(),b=s.useRef(),y=s.useRef(),[T,V]=s.useState(!1),[z,E]=s.useState(!1),p=s.useRef(),u=s.useRef(),{showToast:n}=D();let d=[];const m=Z();m.type===0?d=[{label:"Select User Type ",value:""},{label:"Super Admin",value:"0"},{label:"Admin",value:"1"},{label:"User",value:"2",disabled:!1}]:m.type===1?d=[{label:"Select User Type ",value:""},{label:"Admin",value:"1"},{label:"User",value:"2",disabled:!1}]:d=[{label:"Select User Type ",value:""},{label:"User",value:"2",disabled:!1}],s.useEffect(()=>{try{B("/api/company").then(a=>{if(a!=null&&a.length){const o=a.map(r=>({label:r.company_name,value:r.company_id}));m.type===0?f(o):f(o.filter(r=>r.value===m.company_id))}})}catch(a){n("danger","Error occured "+a)}},[]);const C=(a,o=!1)=>{const r=parseInt(o?u.current.value:p.current.value,10);o?E(!(r>0)):V(![0,1,2].includes(r))},_=async a=>{var j,w,I,g,S,N,R;if(a.preventDefault(),a.stopPropagation(),a.currentTarget.checkValidity()===!1){U(!0);return}const r={name:(j=v.current)==null?void 0:j.value,email:(w=h.current)==null?void 0:w.value,mobile:(I=x.current)==null?void 0:I.value,password:(g=b.current)==null?void 0:g.value,password_confirmation:(S=y.current)==null?void 0:S.value,type:(N=p.current)==null?void 0:N.value,company_id:(R=u.current)==null?void 0:R.value};try{await J(r)?n("success","New user is created succesfully"):n("danger","Error occured, please try again later.")}catch(A){n("danger","Error occured "+A)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row ",children:e.jsx(F,{children:e.jsx(K,{className:"justify-content-center",children:e.jsx(O,{md:9,lg:12,xl:12,children:e.jsxs(Q,{className:"mx-6",children:[e.jsx(X,{children:e.jsx("strong",{children:"Create User "})}),e.jsx(W,{className:"p-4",children:e.jsxs(Y,{noValidate:!0,validated:L,onSubmit:_,children:[e.jsxs(l,{className:"mb-4",children:[e.jsx(c,{children:e.jsx(t,{icon:e0})}),e.jsx(P,{onChange:a=>C(a,!0),"aria-label":"Select Shop / Company",ref:u,invalid:z,options:k,feedbackInvalid:"Select Shop / Company"})]}),e.jsxs(l,{className:"mb-4",children:[e.jsx(c,{children:e.jsx(t,{icon:a0})}),e.jsx(P,{onChange:C,"aria-label":"Default select example",ref:p,invalid:T,options:d,feedbackInvalid:"Please select a valid option."})]}),e.jsxs(l,{className:"mb-3",children:[e.jsx(c,{children:e.jsx(t,{icon:G})}),e.jsx(i,{ref:v,type:"username",placeholder:"Username",autoComplete:"name",required:!0,feedbackInvalid:"Please provide name."})]}),e.jsxs(l,{className:"mb-3",children:[e.jsx(c,{children:"@"}),e.jsx(i,{ref:h,placeholder:"Email",autoComplete:"email",type:"email",required:!0,feedbackInvalid:"Please provide email."})]}),e.jsxs(l,{className:"mb-3",children:[e.jsx(c,{children:e.jsx(t,{icon:$})}),e.jsx(i,{ref:x,placeholder:"Mobile",autoComplete:"phone",type:"mobile",required:!0,feedbackInvalid:"Please provide mobile number."})]}),e.jsxs(l,{className:"mb-3",children:[e.jsx(c,{children:e.jsx(t,{icon:M})}),e.jsx(i,{type:"password",ref:b,placeholder:"Enter New Password",autoComplete:"new-password",required:!0,feedbackInvalid:"Please provide password."})]}),e.jsxs(l,{className:"mb-4",children:[e.jsx(c,{children:e.jsx(t,{icon:M})}),e.jsx(i,{ref:y,type:"password",placeholder:"Confirm  password",autoComplete:"new-password",required:!0,feedbackInvalid:"Please provide confirm password."})]}),e.jsx("div",{className:"d-grid col-sm-3",children:e.jsx(H,{color:"success",type:"submit",children:"Save"})})]})})]})})})})})};export{v0 as default};
