import{r as s,m as L,j as e}from"./index-CWCk8Mfu.js";import{b as U,c as t,a as V}from"./index.esm-CtJdof8l.js";import{i as A,c as B,b as v,r as D,s as F}from"./api-helnlucg.js";import{C as w}from"./CRow-D5FXM-Wo.js";import{C as G}from"./CCol-DELpJvbl.js";import{C as T,a as _}from"./CCardBody-CjD5VXLl.js";import{C as z}from"./CForm-CjIivhzA.js";import{C as r,a}from"./CInputGroupText-Dgi-RtrH.js";import{C as o}from"./CFormInput-9pZ0Cm2L.js";import{c as H,C as J}from"./cil-mobile-C0RpYdWd.js";import"./CFormLabel-C5kMTk4Z.js";const ae=()=>{const[l,g]=s.useState(),[R,y]=s.useState(!1),n=L(),d=s.useRef(),m=s.useRef(),u=s.useRef(),p=s.useRef(),f=s.useRef();s.useEffect(()=>{A()&&n("/")},[]);const N=async c=>{var x,j,h,C,b;const I=c.currentTarget;if(c.preventDefault(),c.stopPropagation(),y(!0),I.checkValidity()!==!0)return;const P=(x=d.current)==null?void 0:x.value,k=(j=m.current)==null?void 0:j.value,q=(h=u.current)==null?void 0:h.value,E=0,M=(C=p.current)==null?void 0:C.value,S=(b=f.current)==null?void 0:b.value;try{const i=await D({name:P,email:k,mobile:q,type:E,password:M,password_confirmation:S});F(i),n("/")}catch(i){g(i.message??"Please provide valid data")}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(U,{children:e.jsx(w,{className:"justify-content-center",children:e.jsx(G,{md:9,lg:7,xl:6,children:e.jsx(T,{className:"mx-4",children:e.jsx(_,{className:"p-4",children:e.jsxs(z,{noValidate:!0,validated:R,onSubmit:N,children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),e.jsxs(r,{className:"mb-3",children:[e.jsx(a,{children:e.jsx(t,{icon:B})}),e.jsx(o,{ref:d,placeholder:"Username",autoComplete:"name",required:!0,feedbackInvalid:"Please provide name."})]}),e.jsxs(r,{className:"mb-3",children:[e.jsx(a,{children:"@"}),e.jsx(o,{ref:m,placeholder:"Email",autoComplete:"email",required:!0,feedbackInvalid:"Please provide email."})]}),e.jsxs(r,{className:"mb-3",children:[e.jsx(a,{children:e.jsx(t,{icon:H})}),e.jsx(o,{ref:u,placeholder:"Mobile",autoComplete:"phone",required:!0,feedbackInvalid:"Please provide mobile number."})]}),e.jsxs(r,{className:"mb-3",children:[e.jsx(a,{children:e.jsx(t,{icon:v})}),e.jsx(o,{type:"password",ref:p,placeholder:"Password",autoComplete:"new-password",required:!0,feedbackInvalid:"Please provide password."})]}),e.jsxs(r,{className:"mb-4",children:[e.jsx(a,{children:e.jsx(t,{icon:v})}),e.jsx(o,{ref:f,type:"password",placeholder:"Repeat password",autoComplete:"new-password",required:!0,feedbackInvalid:"Please provide confirm password."})]}),l&&e.jsx(w,{children:e.jsx(J,{color:"danger",children:l})}),e.jsx("div",{className:"d-grid",children:e.jsx(V,{color:"success",type:"submit",children:"Create Account"})})]})})})})})})})};export{ae as default};
